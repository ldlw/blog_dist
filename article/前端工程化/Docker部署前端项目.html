<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>使用 Docker 部署前端项目 | levin的小站</title>
    <meta name="description" content="使用 Docker 部署前端项目">
    <link rel="preload stylesheet" href="/assets/style.d6e9fba3.css" as="style">
    <link rel="modulepreload" href="/assets/chunks/VPAlgoliaSearchBox.50636411.js">
    <link rel="modulepreload" href="/assets/app.2ff528bf.js">
    <link rel="modulepreload" href="/assets/article_前端工程化_Docker部署前端项目.md.e7556e0e.lean.js">
    
    <link rel="icon" href="https://vitepress-source.oss-cn-beijing.aliyuncs.com/typoraimage-20220326203849385.png">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  <meta name="keywords" content="使用 Docker 部署前端项目">
  <script src="https://vitepress-source.oss-cn-beijing.aliyuncs.com/statistics.js"></script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-9230e569><!--[--><!--]--><!--[--><span tabindex="-1" data-v-ed811b58></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-ed811b58> Skip to content </a><!--]--><!----><header class="VPNav" data-v-9230e569 data-v-d654c7c2><div class="VPNavBar has-sidebar" data-v-d654c7c2 data-v-4692e363><div class="container" data-v-4692e363><div class="title" data-v-4692e363><div class="VPNavBarTitle has-sidebar" data-v-4692e363 data-v-4e6bf2f6><a class="title" href="/" data-v-4e6bf2f6><!--[--><!--]--><!--[--><img class="VPImage logo" src="http://ldlw.oss-cn-shenzhen.aliyuncs.com/blog/logo.png" alt data-v-ef649337><!--]--><!--[-->levin的小站<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-4692e363><div class="curtain" data-v-4692e363></div><div class="content-body" data-v-4692e363><!--[--><!--]--><div class="VPNavBarSearch search" data-v-4692e363 style="--0e9d9ec4:&#39;Meta&#39;;"><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-4692e363 data-v-a4e410e7><span id="main-nav-aria-label" class="visually-hidden" data-v-a4e410e7>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" data-v-a4e410e7 data-v-80e012ea data-v-28bc66e8><!--[-->首页<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-a4e410e7 data-v-04190965><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-04190965><span class="text" data-v-04190965><!----> 小工具 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-04190965><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-04190965><div class="VPMenu" data-v-04190965 data-v-e8772f26><div class="items" data-v-e8772f26><!--[--><!--[--><div class="VPMenuLink" data-v-e8772f26 data-v-d23499e7><a class="VPLink link" href="http://blog.ldlw.site:667/Nokia/" target="_blank" rel="noreferrer" data-v-d23499e7 data-v-28bc66e8><!--[-->诺基亚表情包生成器<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-28bc66e8><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e8772f26 data-v-d23499e7><a class="VPLink link" href="http://blog.ldlw.site:667/study/" target="_blank" rel="noreferrer" data-v-d23499e7 data-v-28bc66e8><!--[-->学习时钟<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-28bc66e8><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-a4e410e7 data-v-04190965><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-04190965><span class="text" data-v-04190965><!----> 其他网站 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-04190965><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-04190965><div class="VPMenu" data-v-04190965 data-v-e8772f26><div class="items" data-v-e8772f26><!--[--><!--[--><div class="VPMenuLink" data-v-e8772f26 data-v-d23499e7><a class="VPLink link" href="https://github.com/ldlw" target="_blank" rel="noreferrer" data-v-d23499e7 data-v-28bc66e8><!--[-->github<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-28bc66e8><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e8772f26 data-v-d23499e7><a class="VPLink link" href="http://blog.ldlw.site/" target="_blank" rel="noreferrer" data-v-d23499e7 data-v-28bc66e8><!--[-->个人空间<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-28bc66e8><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e8772f26 data-v-d23499e7><a class="VPLink link" href="https://juejin.cn/user/2296218359183918" target="_blank" rel="noreferrer" data-v-d23499e7 data-v-28bc66e8><!--[-->稀土掘金<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-28bc66e8><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-4692e363 data-v-c0ad0dfa><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-c0ad0dfa data-v-bbce9cb8 data-v-3e252b2b><span class="check" data-v-3e252b2b><span class="icon" data-v-3e252b2b><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-bbce9cb8><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-bbce9cb8><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-4692e363 data-v-882640ae data-v-04190965><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-04190965><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-04190965><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-04190965><div class="VPMenu" data-v-04190965 data-v-e8772f26><!----><!--[--><!--[--><!----><div class="group" data-v-882640ae><div class="item appearance" data-v-882640ae><p class="label" data-v-882640ae>Appearance</p><div class="appearance-action" data-v-882640ae><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-882640ae data-v-bbce9cb8 data-v-3e252b2b><span class="check" data-v-3e252b2b><span class="icon" data-v-3e252b2b><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-bbce9cb8><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-bbce9cb8><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-4692e363 data-v-a5b38285><span class="container" data-v-a5b38285><span class="top" data-v-a5b38285></span><span class="middle" data-v-a5b38285></span><span class="bottom" data-v-a5b38285></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-9230e569 data-v-01d52e8a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-01d52e8a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-01d52e8a><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-01d52e8a>Menu</span></button><a class="top-link" href="#" data-v-01d52e8a>Return to top</a></div><aside class="VPSidebar" data-v-9230e569 data-v-fe0f12f9><div class="curtain" data-v-fe0f12f9></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-fe0f12f9><span class="visually-hidden" id="sidebar-aria-label" data-v-fe0f12f9> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-fe0f12f9><section class="VPSidebarItem level-0" data-v-fe0f12f9 data-v-9038c839><div class="item" role="button" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link" data-v-9038c839 data-v-28bc66e8><!--[--><h2 class="text" data-v-9038c839>其他技术</h2><!--]--><!----></a><!----></div><div class="items" data-v-9038c839><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9038c839 data-v-9038c839><div class="item" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link link" href="/article/%E5%85%B6%E4%BB%96%E6%8A%80%E6%9C%AF/Linux%E5%91%BD%E4%BB%A4%E5%A4%A7%E5%85%A8.html" data-v-9038c839 data-v-28bc66e8><!--[--><p class="text" data-v-9038c839>Linux命令大全</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9038c839 data-v-9038c839><div class="item" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link link" href="/article/%E5%85%B6%E4%BB%96%E6%8A%80%E6%9C%AF/%E5%B7%A5%E4%BD%9C%E5%AD%A6%E4%B9%A0.html" data-v-9038c839 data-v-28bc66e8><!--[--><p class="text" data-v-9038c839>工作学习</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9038c839 data-v-9038c839><div class="item" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link link" href="/article/%E5%85%B6%E4%BB%96%E6%8A%80%E6%9C%AF/%E5%BC%80%E5%8F%91%E5%B0%8F%E7%9F%A5%E8%AF%86.html" data-v-9038c839 data-v-28bc66e8><!--[--><p class="text" data-v-9038c839>开发小知识</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9038c839 data-v-9038c839><div class="item" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link link" href="/article/%E5%85%B6%E4%BB%96%E6%8A%80%E6%9C%AF/%E9%9D%A2%E8%AF%95%E9%9B%86%E5%90%88.html" data-v-9038c839 data-v-28bc66e8><!--[--><p class="text" data-v-9038c839>面试集合</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-fe0f12f9><section class="VPSidebarItem level-0 has-active" data-v-fe0f12f9 data-v-9038c839><div class="item" role="button" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link" data-v-9038c839 data-v-28bc66e8><!--[--><h2 class="text" data-v-9038c839>前端工程化</h2><!--]--><!----></a><!----></div><div class="items" data-v-9038c839><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9038c839 data-v-9038c839><div class="item" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/CICD.html" data-v-9038c839 data-v-28bc66e8><!--[--><p class="text" data-v-9038c839>CICD</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-9038c839 data-v-9038c839><div class="item" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/Docker%E9%83%A8%E7%BD%B2%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE.html" data-v-9038c839 data-v-28bc66e8><!--[--><p class="text" data-v-9038c839>Docker部署前端项目</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9038c839 data-v-9038c839><div class="item" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2.html" data-v-9038c839 data-v-28bc66e8><!--[--><p class="text" data-v-9038c839>项目部署</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-fe0f12f9><section class="VPSidebarItem level-0" data-v-fe0f12f9 data-v-9038c839><div class="item" role="button" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link" data-v-9038c839 data-v-28bc66e8><!--[--><h2 class="text" data-v-9038c839>前端进阶</h2><!--]--><!----></a><!----></div><div class="items" data-v-9038c839><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9038c839 data-v-9038c839><div class="item" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E8%BF%9B%E9%98%B6/JS%E5%BC%80%E5%8F%91%E6%8A%80%E5%B7%A7--%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0.html" data-v-9038c839 data-v-28bc66e8><!--[--><p class="text" data-v-9038c839>JS开发技巧--持续更新</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9038c839 data-v-9038c839><div class="item" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E8%BF%9B%E9%98%B6/JS%E9%AB%98%E9%98%B6%E7%9F%A5%E8%AF%86%E7%82%B9--%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0.html" data-v-9038c839 data-v-28bc66e8><!--[--><p class="text" data-v-9038c839>JS高阶知识点--持续更新</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9038c839 data-v-9038c839><div class="item" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E8%BF%9B%E9%98%B6/Nestjs-%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91%E5%88%A9%E5%99%A8.html" data-v-9038c839 data-v-28bc66e8><!--[--><p class="text" data-v-9038c839>Nestjs-后端开发利器</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9038c839 data-v-9038c839><div class="item" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E8%BF%9B%E9%98%B6/%E5%A4%A7%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0.html" data-v-9038c839 data-v-28bc66e8><!--[--><p class="text" data-v-9038c839>大文件上传</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9038c839 data-v-9038c839><div class="item" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link link" href="/article/%E5%89%8D%E7%AB%AF%E8%BF%9B%E9%98%B6/%E6%96%B0%E6%8A%80%E6%9C%AF%E9%9B%86%E5%90%88.html" data-v-9038c839 data-v-28bc66e8><!--[--><p class="text" data-v-9038c839>新技术集合</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-fe0f12f9><section class="VPSidebarItem level-0" data-v-fe0f12f9 data-v-9038c839><div class="item" role="button" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link" data-v-9038c839 data-v-28bc66e8><!--[--><h2 class="text" data-v-9038c839>小轮子</h2><!--]--><!----></a><!----></div><div class="items" data-v-9038c839><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9038c839 data-v-9038c839><div class="item" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link link" href="/article/%E5%B0%8F%E8%BD%AE%E5%AD%90/mini-await-to-js.html" data-v-9038c839 data-v-28bc66e8><!--[--><p class="text" data-v-9038c839>mini-await-to-js</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9038c839 data-v-9038c839><div class="item" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link link" href="/article/%E5%B0%8F%E8%BD%AE%E5%AD%90/%E5%85%83%E6%B0%94%E6%8F%90%E9%86%92.html" data-v-9038c839 data-v-28bc66e8><!--[--><p class="text" data-v-9038c839>元气提醒</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9038c839 data-v-9038c839><div class="item" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link link" href="/article/%E5%B0%8F%E8%BD%AE%E5%AD%90/%E5%B0%81%E8%A3%85%E4%B8%80%E4%BA%9B%E5%A5%BD%E7%94%A8%E7%9A%84hook.html" data-v-9038c839 data-v-28bc66e8><!--[--><p class="text" data-v-9038c839>封装一些好用的hook</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9038c839 data-v-9038c839><div class="item" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link link" href="/article/%E5%B0%8F%E8%BD%AE%E5%AD%90/%E9%80%A0%E8%BD%AE%E5%AD%90.html" data-v-9038c839 data-v-28bc66e8><!--[--><p class="text" data-v-9038c839>造轮子</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-fe0f12f9><section class="VPSidebarItem level-0" data-v-fe0f12f9 data-v-9038c839><div class="item" role="button" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link" data-v-9038c839 data-v-28bc66e8><!--[--><h2 class="text" data-v-9038c839>算法</h2><!--]--><!----></a><!----></div><div class="items" data-v-9038c839><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9038c839 data-v-9038c839><div class="item" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link link" href="/article/%E7%AE%97%E6%B3%95/leetcode.html" data-v-9038c839 data-v-28bc66e8><!--[--><p class="text" data-v-9038c839>leetcode</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9038c839 data-v-9038c839><div class="item" data-v-9038c839><div class="indicator" data-v-9038c839></div><a class="VPLink link link" href="/article/%E7%AE%97%E6%B3%95/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html" data-v-9038c839 data-v-28bc66e8><!--[--><p class="text" data-v-9038c839>排序算法</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-9230e569 data-v-a1684395><div class="VPDoc has-sidebar has-aside" data-v-a1684395 data-v-65a16118><div class="container" data-v-65a16118><div class="aside" data-v-65a16118><div class="aside-curtain" data-v-65a16118></div><div class="aside-container" data-v-65a16118><div class="aside-content" data-v-65a16118><div class="VPDocAside" data-v-65a16118 data-v-3eaddf03><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline has-outline" data-v-3eaddf03 data-v-1d4d3a70><div class="content" data-v-1d4d3a70><div class="outline-marker" data-v-1d4d3a70></div><div class="outline-title" data-v-1d4d3a70>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-1d4d3a70><span class="visually-hidden" id="doc-outline-aria-label" data-v-1d4d3a70> Table of Contents for current page </span><ul class="root" data-v-1d4d3a70 data-v-9975d736><!--[--><li data-v-9975d736><a class="outline-link" href="#环境的部署" data-v-9975d736>环境的部署</a><!----></li><li data-v-9975d736><a class="outline-link" href="#需要前期的准备" data-v-9975d736>需要前期的准备</a><!----></li><li data-v-9975d736><a class="outline-link" href="#将项目挂在挂在在服务器上-项目部署" data-v-9975d736>将项目挂在挂在在服务器上(项目部署)</a><!----></li><li data-v-9975d736><a class="outline-link" href="#项目部署优化-半自动部署" data-v-9975d736>项目部署优化(半自动部署)</a><!----></li><li data-v-9975d736><a class="outline-link" href="#总结" data-v-9975d736>总结</a><!----></li><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3eaddf03></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-65a16118><div class="content-container" data-v-65a16118><!--[--><!--]--><main class="main" data-v-65a16118><div style="position:relative;" class="vp-doc _article_%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96_Docker%E9%83%A8%E7%BD%B2%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE" data-v-65a16118><div><h1 id="使用-docker-部署前端项目" tabindex="-1">使用 Docker 部署前端项目 <a class="header-anchor" href="#使用-docker-部署前端项目" aria-hidden="true">#</a></h1><h2 id="环境的部署" tabindex="-1">环境的部署 <a class="header-anchor" href="#环境的部署" aria-hidden="true">#</a></h2><p>docker 相当于是一个容器，docker 是运行在服务器上的，有它在可以让我们在这个 docker 的大环境下安装一些小环境，电脑相当于我们的手机，docker 相当于我们的微信，nginx 等等镜像就相当于是微信里面的一个个小程序。</p><h3 id="学习-dokcer-之前需要明白的一些知识" tabindex="-1">学习 dokcer 之前需要明白的一些知识 <a class="header-anchor" href="#学习-dokcer-之前需要明白的一些知识" aria-hidden="true">#</a></h3><ul><li>基础的 Linux 命令<br><code>mv oldname newname</code> 修改文件名<br><code>ls</code> 查看当前的目录下的文件<br><code>cd 文件名</code> 进入指定文件夹 <code>cd ..</code>返回上一级<br><code>mkdir 文件名</code> 创建文件夹<br><code>rm -rf 文件名</code> 删除指定文件<br><code>cat 文件名</code> 查看文件内容<br><code>touch 文件名</code> 创建指定文件<br><code>vi 文件名</code> 进入文件内部 可以再输入 i 进入修改模式，修改完成后输入按下 Esc 键+:wq 保存并退出</li></ul><h2 id="需要前期的准备" tabindex="-1">需要前期的准备 <a class="header-anchor" href="#需要前期的准备" aria-hidden="true">#</a></h2><ul><li>一台属于自己的服务器（推荐阿里云上购买）</li><li>window 环境下安装一个 xshell 软件（用于连接服务器）</li></ul><h3 id="服务器的购买" tabindex="-1">服务器的购买 <a class="header-anchor" href="#服务器的购买" aria-hidden="true">#</a></h3><blockquote><p>服务器可以就在阿里云上购买一个即可，注意如果有条件就直接买一个就豪，如果是学生还可以买一个学生机(我买的就是-9.5 元一个月)</p></blockquote><p>购买了之后可以在控制台的地方设置了一下多开放几个服务器的端口，阿里云的服务器默认只开启了三个端口，分别是</p><ol><li>端口 80：HTTP 默认端口</li><li>端口 443：HTTPS 默认端口</li><li>端口 22： SSH 端口</li></ol><p><img src="https://img-blog.csdnimg.cn/20200811232112592.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NjI0MDE2Mg==,size_16,color_FFFFFF,t_70" alt="像这样多开放几个端口即可"></p><h3 id="环境安装" tabindex="-1">环境安装 <a class="header-anchor" href="#环境安装" aria-hidden="true">#</a></h3><blockquote><p>我们需要安装 docker 环境,nginx 环境，node 环境</p></blockquote><ul><li><p>进入 Xshell 软件，先根据阿里云上的服务器信息输入到软件上，连接上服务器。</p></li><li><p>docker 环境</p><ol><li><p>安装 docker</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;"> $ sudo yum install docker-ce docker-ce-cli containerd.io</span></span>
<span class="line"><span style="color:#A6ACCD;"> // 如果提示您接受 GPG 密钥，请选是</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li><li><p>检测是否安装成功 docker</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">  // sudo systemctl start 是运行系统程序 如运行mysql sudo systemctl start mysql</span></span>
<span class="line"><span style="color:#A6ACCD;">  $ sudo systemctl start docker</span></span>
<span class="line"><span style="color:#A6ACCD;">  // 通过运行 hello-world 映像来验证是否正确安装了 Docker Engine-Community 。</span></span>
<span class="line"><span style="color:#A6ACCD;">  $ sudo docker run hello-world</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li><li><p>将 docker 设置为开机自启动</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">/*</span></span>
<span class="line"><span style="color:#A6ACCD;">	sudo systemctl enable/disable 服务名</span></span>
<span class="line"><span style="color:#A6ACCD;">		这个是个 linux 命令 后面的服务名可以是系统的服务 如 mysql nginx 等等</span></span>
<span class="line"><span style="color:#A6ACCD;">*/</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl enable docker  // 设置自启动</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl disable docker  // 关闭自启动</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">/*</span></span>
<span class="line"><span style="color:#A6ACCD;">	sudo systemctl list-unit-files 查看系统服务信息</span></span>
<span class="line"><span style="color:#A6ACCD;">	sudo systemctl list-unit-files | grep docker  查看docker的服务信息</span></span>
<span class="line"><span style="color:#A6ACCD;">	sudo systemctl list-unit-files | grep enable  查看系统自启动的服务有哪些</span></span>
<span class="line"><span style="color:#A6ACCD;">		| 管道符是用于过滤的，可以参考vue的过滤器的语法</span></span>
<span class="line"><span style="color:#A6ACCD;">*/</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl list-unit-files | grep docker</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li></ol><p>CentOS8 安装 Docker 出现 package docker-ce-3:19.03.8-3.el7.x86_64 requires containerd.io &gt;= 1.2.2-3（没有报错这一步就不需要执行）</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">  centos8默认使用podman代替docker，所以需要containerd.io，那我们就安装一下就好了</span></span>
<span class="line"><span style="color:#A6ACCD;">  yum install https://download.docker.com/linux/fedora/30/x86_64/stable/Packages/containerd.io-1.2.6-3.3.fc30.x86_64.rpm</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ol start="3"><li>docker 常用指令集合 <ul><li><code>docker images</code>查看已有的镜像</li><li><code>docker rmi -f 镜像名 </code>删除指定镜像，如<code>docker rmi -f mysql</code>删除 mysql 镜像</li><li><code>docker run 镜像名</code>相当于是启动一个镜像</li><li><code>docker ps</code>查询所有在运行的容器，<code>docker ps -a</code>所有的容器（不管在不在运行）</li><li><code>docker stop 容器名</code>关闭某个执行的容器</li><li><code>docker restart 容器名/id名</code>重新开启某个容器</li><li><code>docker rm $(docker ps -a -q)</code>一次性删除所有无用的容器</li></ul></li></ol></li><li><p>基于 docker 安装 nginx 镜像</p><blockquote><p>docker 相当于我们生活中使用的我微信，nginx 镜像相当于是一个小程序，我们可以直接在 docker 上安装 nginx 镜像来实现 nginx 的功能</p></blockquote><ul><li>使用<code>docker search nginx</code> 查询 nginx 镜像</li><li>使用<code>docker pull nginx</code> 下载镜像</li><li>使用<code>docker images</code> 查看是否有拉取的镜像</li></ul><p><img src="https://img-blog.csdnimg.cn/20200814212426275.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NjI0MDE2Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="nginx镜像"></p><ul><li>开启容器</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">  docker run -d -p 8080:80 --name 容器名 nginx 开启一个容器</span></span>
<span class="line"><span style="color:#A6ACCD;">  /*</span></span>
<span class="line"><span style="color:#A6ACCD;">    -d 表示后台运行 就算关闭了这个窗口，服务器后台任然在运行</span></span>
<span class="line"><span style="color:#A6ACCD;">    -p 端口映射 冒号前是本机端口(自己设置)，冒号后是容器端口(默认是80)</span></span>
<span class="line"><span style="color:#A6ACCD;">  */</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ul><li>浏览器检查是否成功安装，输入服务器公网地址+自己设置的端口(这里的端口必须是已经开放的端口，就是之前阿里云控制台设置的)，如果浏览器出现以下的显示，恭喜，nginx 启动成功</li></ul><p><img src="https://img-blog.csdnimg.cn/20200811131211344.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NjI0MDE2Mg==,size_16,color_FFFFFF,t_70" alt="nginx默认页面"></p><ul><li>使用<code>docker ps</code>查看已经开启的容器，<code>docker ps -a</code>查看所有的容器</li></ul><p><img src="https://img-blog.csdnimg.cn/20200814213300616.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NjI0MDE2Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="查看容器"></p><ul><li>使用<code>docker stop 容器名/id</code> 停止掉指定的容器</li></ul></li><li><p>创建本机实例文件夹</p><blockquote><p>这个步骤很重要，相当于是处理 nginx 文件映射的功能，类似于 Vue 的 v-model 层，我们映射了 nginx 层的文件夹，我们需要修改 nginx 里面的数据的时候，就可以不同每次都进入 nginx，修改数据，再退出，直接通过修改映射层的数据，会自动的同步到 nginx 里面，非常的方便。</p></blockquote><ul><li><p>/home 文件夹下新建 mutou 文件夹，木头文件夹下新建 nginx 文件夹，nginx 文件夹下新建 conf.d 文件夹，html 文件夹，大致结构如下：</p><p><img src="https://img-blog.csdnimg.cn/20200811172447883.png" alt="映射文件解构"></p></li><li><p>在我们创建的 conf.d 文件夹下新建 default.conf 文件，做出如下的一些配置:</p><p><img src="https://img-blog.csdnimg.cn/20200811172400164.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NjI0MDE2Mg==,size_16,color_FFFFFF,t_70" alt="映射conf.d配置文件"></p></li><li><p>在 html 文件夹下编写我们刚刚修改之后的指定的 html 文件，如我将原有的 index-test.html 修改成了 index-test.html，所以我就要在 html 文件夹下创建一个 index-test.html 文件</p><p><img src="https://img-blog.csdnimg.cn/2020081117270767.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NjI0MDE2Mg==,size_16,color_FFFFFF,t_70" alt="文件"></p></li><li><p>启动我们的 nginx 容器，同时映射地址:代码为：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">docker run -d -p 80:80 -v /home/mutou/nginx/conf.d:/etc/nginx/conf.d  -v /home/mutou/nginx/html:/usr/share/nginx/html nginx</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><img src="https://img-blog.csdnimg.cn/20200811173209475.png" alt="信息"></p></li><li><p>在上述的步骤完成之后，我们输入 ip:80，就可以得到我们刚刚写的 html 代码的页面了</p><p><img src="https://img-blog.csdnimg.cn/20200811173342941.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NjI0MDE2Mg==,size_16,color_FFFFFF,t_70" alt="修改配置后的浏览器显示效果"></p></li></ul></li><li><p>在服务器上安装 git</p><ul><li><p>使用<code>yum install -y git</code>在服务器上安装，之后使用<code>git --version</code>查看版本，如果有就代表安装成了</p><p><img src="https://img-blog.csdnimg.cn/20200812145927643.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NjI0MDE2Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p></li><li><p>安装好了之后做一些 git 的简单配置</p><ol><li>git config --global user.name &quot;Your Name&quot;</li><li>git config --global user.email &quot;<a href="mailto:email@example.com" target="_blank" rel="noreferrer">email@example.com</a>&quot;</li><li>ssh-keygen -t rsa -C &quot;<a href="mailto:youremail@example.com" target="_blank" rel="noreferrer">youremail@example.com</a>&quot; 生成公钥和私钥，之后一路回车</li></ol></li></ul></li><li><p>在服务器上安装 node,npm 环境</p><blockquote><p>这一步的操作主要是为了能够实现自动部署，就相当于将整个项目都放在服务器上，在服务器上执行<code>npm run build</code>,有好处也有不好的地方，好处就是十分的方便，可以自动部署，可以配置自动配合 git 拉去 github 的代码，拉取到之后自动重新打包，打包之后自动将 dist 文件夹替换并且自动重启 nginx。就是会消耗服务器的资源，占用比较大的空间。</p></blockquote><ul><li><p><code>wget https://nodejs.org/dist/v9.3.0/node-v9.3.0-linux-x64.tar.xz</code>为服务器安装 node</p></li><li><p><code>tar -xvf node-v9.3.0-linux-x64.tar.xz</code>解压安装包</p></li><li><p>部署 bin 文件，<code>ln -s ~/node-v9.3.0-linux-x64/bin/node /usr/bin/node</code>,<code>ln -s ~/node-v9.3.0-linux-x64/bin/npm /usr/bin/npm</code>(这步骤的路径很重要，路径不对就翻车) bin 文件配置好了之后可以分别执行 node -v 和 npm-v 如果有给出版本号说明安装成功了 node</p></li><li><p>如果我们一旦不小心路径写错想再重新映射路径的时候就会报<code>File exists</code>,这时候我们只需要将正确的看一下路径，并将原来的设置路径的指令的<code>-s</code>改成<code>-sf</code>就可以完后才能覆盖</p></li><li><p>之后就和在电脑里面的操作一样了，npm instll npm run build</p></li><li><p>安装其他的开发工具，如 cnpm、pm2、nodemon 等等也是一样就可以使用 npm 来装了，装完之后也是一样要配置好 bin 文件，路径也是不能错，只有配置成功之后这些指令我们才能够全局的使用。</p></li></ul></li></ul><h2 id="将项目挂在挂在在服务器上-项目部署" tabindex="-1">将项目挂在挂在在服务器上(项目部署) <a class="header-anchor" href="#将项目挂在挂在在服务器上-项目部署" aria-hidden="true">#</a></h2><blockquote><p>到这步就很简单了，离成功就一步之遥了，只需要将项目打包之后的文件夹丢到 nginx 上就可以了。<br> 因为我们服务器安装了 git，所以对于前端来说，我们只需要将前端 vue 项目执行了打包命令之后的 dist 文件夹给传到服务器上，再在服务器上开一个端口来专门处理这个 dist 文件夹就可以了 -- 这里拿 Vue 项目来演示</p></blockquote><pre><code>![打包后的dist文件夹](https://img-blog.csdnimg.cn/20200812163429191.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NjI0MDE2Mg==,size_16,color_FFFFFF,t_70#pic_center)
</code></pre><ul><li><p>之后执行指令<code>docker run -d -p 8080:80 -v $PWD/dist:/usr/share/nginx/html nginx</code>这里注意<code>$PWD</code>表示的是当前所在目录，所以执行这一行代码的时候，我们就必须得在项目的目录中了。</p></li><li><p>执行<code>docker ps</code>如果有我们刚刚那个项目，则部署成功，访问 ip：端口号,就可以线上访问我们的项目了</p><p><img src="https://img-blog.csdnimg.cn/20200814214922208.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NjI0MDE2Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="项目创建成功"></p></li></ul><h2 id="项目部署优化-半自动部署" tabindex="-1">项目部署优化(半自动部署) <a class="header-anchor" href="#项目部署优化-半自动部署" aria-hidden="true">#</a></h2><blockquote><p>到这里项目部署流程基本已经明白了，服务器在 github 上拉去代码，打包，之后开放端口放打包后的文件夹。如果一天文件修改 10 次，那么这个动作就非常的麻烦，所以我们可以配置半自动部署</p></blockquote><ul><li><p>在项目中添加一个服务器的.sh 脚本文件，并放入以下代码</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;"> # 拉去代码</span></span>
<span class="line"><span style="color:#A6ACCD;"> git pull</span></span>
<span class="line"><span style="color:#A6ACCD;"> # 安装依赖并打包项目</span></span>
<span class="line"><span style="color:#A6ACCD;"> cnpm install &amp;&amp; cnpm run build</span></span>
<span class="line"><span style="color:#A6ACCD;"> # 关闭容器和端口</span></span>
<span class="line"><span style="color:#A6ACCD;"> docker rm -f myblog &amp;&gt; /dev/null</span></span>
<span class="line"><span style="color:#A6ACCD;"> # 重启容器和端口</span></span>
<span class="line"><span style="color:#A6ACCD;"> docker run -d --restart=on-failure:5\</span></span>
<span class="line"><span style="color:#A6ACCD;">  -p 80:80 \</span></span>
<span class="line"><span style="color:#A6ACCD;">  -v $PWD/public:/usr/share/nginx/html \</span></span>
<span class="line"><span style="color:#A6ACCD;">  --name myblog nginx</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li><li><p>在加入代码之后，我们前端只需要更新将代码传到 github 上，服务端要做的就减少到进入项目目录，使用 <code>sh 脚本名</code> 执行这个脚本就行了，节省了相当复杂的一些操作</p></li></ul><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-hidden="true">#</a></h2><p>只要一步一步的执行应该是不会翻车的，如果翻车了可以在主页加我 QQ 一起讨论一下。项目部署中当然不止只有这么点东西，比如反向代理，负载均衡这篇文章都没有涉及到，我也还在学习中。等学明白了也会更新的。</p></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-65a16118 data-v-b1de4042><!----><div class="prev-next" data-v-b1de4042><div class="pager" data-v-b1de4042><a class="pager-link prev" href="/article/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/CICD.html" data-v-b1de4042><span class="desc" data-v-b1de4042>Previous page</span><span class="title" data-v-b1de4042>CICD</span></a></div><div class="has-prev pager" data-v-b1de4042><a class="pager-link next" href="/article/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2.html" data-v-b1de4042><span class="desc" data-v-b1de4042>Next page</span><span class="title" data-v-b1de4042>项目部署</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-9230e569 data-v-74d643ba><div class="container" data-v-74d643ba><p class="message" data-v-74d643ba>© levin的小站</p><p class="copyright" data-v-74d643ba><a href="https://beian.miit.gov.cn/" style="color: #1890FF;cursor: pointer;">湘ICP备2021017661号</a></p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"article_前端工程化_docker部署前端项目.md\":\"e7556e0e\",\"article_小轮子_元气提醒.md\":\"a3a3c323\",\"article_前端进阶_nestjs-后端开发利器.md\":\"38f7573b\",\"article_前端工程化_cicd.md\":\"51d76ff9\",\"article_前端进阶_新技术集合.md\":\"8c858a0b\",\"article_其他技术_开发小知识.md\":\"2e3e756c\",\"article_小轮子_封装一些好用的hook.md\":\"c3b03cf3\",\"article_前端进阶_js高阶知识点--持续更新.md\":\"08e25ce8\",\"base.md\":\"442bc7a2\",\"index.md\":\"bddd4237\",\"article_算法_排序算法.md\":\"df971efe\",\"article_前端工程化_项目部署.md\":\"42d2ed71\",\"article_小轮子_mini-await-to-js.md\":\"c4e36c95\",\"article_其他技术_linux命令大全.md\":\"a00390e1\",\"article_前端进阶_js开发技巧--持续更新.md\":\"85edbf38\",\"article_其他技术_面试集合.md\":\"9c786c36\",\"article_小轮子_造轮子.md\":\"b34f8edf\",\"article_前端进阶_大文件上传.md\":\"4adade8f\",\"article_其他技术_工作学习.md\":\"a13af15a\",\"article_算法_leetcode.md\":\"9c69aae9\"}")</script>
    <script type="module" async src="/assets/app.2ff528bf.js"></script>
    
  </body>
</html>